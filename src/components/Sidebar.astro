---
import type {CollectionEntry} from 'astro:content';
import image from '../content/portfolio/me-duck.png';
// Sidebar.astro: Receives a `portfolio` prop (array of entries)
export interface Props {
  portfolio: Array<CollectionEntry<'portfolio'>>;
}
const { portfolio } = Astro.props;
---
<aside class="Sidebar" data-controller="nav-sidebar" data-nav-sidebar-default-thumbnail-src={image.src}>
  <a href="/" class="Sidebar_thumbnail" data-nav-sidebar-target="thumbnail">
  </a>
  <nav class="Sidebar_nav">
    <ul style="list-style: none; padding: 0; margin: 0;">
      {portfolio.map(item => (
        <li style="margin-bottom: 0.75rem;">
          <a
            href={"/portfolio/" + item.slug}
            style="color: #333; text-decoration: none; font-weight: 500;"
            data-action="
              mouseover->nav-sidebar#setThumbnail
              mouseout->nav-sidebar#resetThumbnail"
            data-nav-sidebar-src-param={item.data.image.src}
          >
            {item.data.title}
          </a>
        </li>
      ))}
    </ul>
  </nav>
</aside>
<style>
  .Sidebar {
    --width: 20rem;
    width: var(--width);
    background: #f6f6fa;
    height: 100vh;
    padding-top: 2rem;
    box-sizing: border-box;
    border-right: 1px solid #eee;
  }
  .Sidebar_thumbnail {
    display: block;
    width: var(--width);
    height: var(--width);
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
  }
  .Sidebar_nav {
    padding: 1rem;
  }
</style>
